#!/bin/bash

# Continually increases or decreases a window's X or Y coordinate.
# First parameter: x or y (the axis of movement)
# Second parameter: speed of movement (if 0, the process ends automatically)

# Only allow one instance at a time
if [[ "$(pgrep windowmove)" == *$'\n'* ]]; then exit; fi

# Verify 2nd parameter
case $2 in
    0) echo "Multiplier has been set to 0, which is pointless. Exiting..."; exit;;
    *[^0-9.]) echo "Invalid parameter: only numbers accepted."; exit;;
esac

if [[ $1 == x ]]; then
    while true
    do
        i3-msg "move right $2"
        sleep 0.02
    done
elif [[ $1 == y ]]; then
    while true
    do
        i3-msg "move down $2"
        sleep 0.02
    done
fi
